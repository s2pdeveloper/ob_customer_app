{"version":3,"file":"src_app_default-layout_setting_edit-profile_edit-profile_module_ts.js","mappings":"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","sources":["./src/app/default-layout/setting/edit-profile/edit-profile-routing.module.ts","./src/app/default-layout/setting/edit-profile/edit-profile.module.ts","./src/app/default-layout/setting/edit-profile/edit-profile.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { EditProfilePage } from './edit-profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { EditProfilePageRoutingModule } from './edit-profile-routing.module';\nimport { EditProfilePage } from './edit-profile.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { ValidationMessagesPageModule } from 'src/app/core/validation-messages/validation-messages.module';\nimport { UploadService } from 'src/app/service/upload/upload.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditProfilePageRoutingModule,\n    ReactiveFormsModule,\n    ValidationMessagesPageModule,\n    SharedModule,\n  ],\n  declarations: [EditProfilePage],\n  providers: [\n    { provide: UploadService},\n  ],\n})\nexport class EditProfilePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { StorageService } from 'src/app/core/services';\nimport { LoaderService } from 'src/app/core/services/loader.service';\nimport { ToastService } from 'src/app/core/services/toast.service';\nimport { AuthService } from 'src/app/service/auth/auth.service';\nimport { UploadService } from 'src/app/service/upload/upload.service';\n\n@Component({\n  selector: 'app-edit-profile',\n  templateUrl: './edit-profile.page.html',\n  styleUrls: ['./edit-profile.page.scss'],\n})\nexport class EditProfilePage implements OnInit {\n\n  submitted: boolean = false;\n  loaded: boolean = true;\n  user: any;\n  fileUploaded: boolean = false;\n  filePath: string = \"\";\n\n\n  profileForm = new FormGroup({\n    id: new FormControl(),\n    firstName: new FormControl(''),\n    lastName: new FormControl(''),\n    mobile: new FormControl(''),\n    email: new FormControl(''),\n    image: new FormControl(''),\n\n    address: new FormGroup({\n      line1: new FormControl(''),\n      city: new FormControl(''),\n      state: new FormControl(''),\n      country: new FormControl(''),\n      pinCode: new FormControl(''),\n    }),\n\n    links: new FormGroup({\n      facebook: new FormControl(''),\n      insta: new FormControl(''),\n      youtube: new FormControl(''),\n    }),\n\n    schedule: new FormGroup({\n      day: new FormControl(''),\n      open: new FormControl(''),\n      close: new FormControl(''),\n      startTime: new FormControl(''),\n      endTime: new FormControl(''),\n    }),\n  });\n\n\n  constructor(\n    private router: Router,\n    private spinner: LoaderService,\n    private toaster: ToastService,\n    private localStorage: StorageService,\n    public authService: AuthService,\n    public translate: TranslateService,\n    private uploadService: UploadService,\n\n) { }\n\n  ngOnInit() {\n    this.user = this.localStorage.get('OBCustomer');\n    this.getById();\n  }\n\n  get form() {\n    return this.profileForm.controls;\n  }\n\n\n  getById() {\n    this.authService.profile(this.user._id).subscribe((success) => {\n      this.profileForm.patchValue(success);\n    });\n  }\n\n\n  async getData() {\n    await this.spinner.hideLoader();\n    this.authService.profile(this.user._id).subscribe(async success => {\n      this.profileForm.patchValue(success);\n      if (success.image) {\n        this.fileUploaded = true;\n      }\n      await this.spinner.hideLoader();\n    }, async error => {\n      await this.spinner.hideLoader();\n      this.toaster.errorToast(error);\n    })\n  }\n\n  updateProfile() {\n    if (this.profileForm.invalid) {\n      this.toaster.presentToast('warning', 'Please fill all valid field !');\n      return;\n    }\n    this.spinner.showLoader();\n    let formData = this.profileForm.value;\n    this.authService.updateUser(formData.id, formData).subscribe((success: any) => {\n   this.spinner.hideLoader();\n      this.profileForm.reset();\n      this.toaster.successToast('Profile updated successfully.');\n      this.router.navigate(['/view-profile']);\n    });\n  }\n\n\n\n\n  async uploadFile($event) {\n    let file = $event.target.files[0];\n    // if (this.uploadService.checkFileSize(file)) {\n    //   this.toaster.errorToast(OPTIONS.sizeLimit);\n    //   this.spinner.hideLoader();\n    //   return;\n    // }\n    // if (this.uploadService.checkImageType(file)) {\n    //   this.toaster.errorToast(OPTIONS.imageType);\n    //   this.spinner.hideLoader();\n    //   return;\n    // }\n    await this.spinner.showLoader();\n    let formData = new FormData();\n    formData.append('file', file);\n    this.uploadService.uploadFile(formData)\n      .subscribe(\n        async (data: any) => {\n          this.filePath = data?.result?.url;\n          this.profileForm.controls.image.setValue(this.filePath);\n          this.fileUploaded = true;\n          await this.spinner.hideLoader();\n        },\n        async (error: any) => {\n          await this.spinner.hideLoader();\n          this.toaster.errorToast(error);\n        }\n      );\n  }\n}\n"],"names":["Component","FormGroup","FormControl","Router","TranslateService","StorageService","LoaderService","ToastService","AuthService","UploadService","EditProfilePage","constructor","router","spinner","toaster","localStorage","authService","translate","uploadService","id","firstName","lastName","mobile","email","image","address","line1","city","state","country","pinCode","links","facebook","insta","youtube","schedule","day","open","close","startTime","endTime","ngOnInit","user","get","getById","form","profileForm","controls","profile","_id","subscribe","success","patchValue","getData","hideLoader","fileUploaded","error","errorToast","updateProfile","invalid","presentToast","showLoader","formData","value","updateUser","reset","successToast","navigate","uploadFile","$event","file","target","files","FormData","append","data","filePath","result","url","setValue","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
{"version":3,"file":"default-src_app_default-layout_favorite_favorite_module_ts.js","mappings":"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","sources":["./src/app/default-layout/favorite/favorite-routing.module.ts","./src/app/default-layout/favorite/favorite.module.ts","./src/app/default-layout/favorite/favorite.page.ts","./src/app/service/favourite/favourite.service.ts","./src/app/service/shop/shop.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FavoritePage } from './favorite.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FavoritePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FavoritePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FavoritePageRoutingModule } from './favorite-routing.module';\n\nimport { FavoritePage } from './favorite.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FavoritePageRoutingModule,\n    SharedModule\n  ],\n  declarations: [FavoritePage]\n})\nexport class FavoritePageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IonInfiniteScroll, ModalController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { StorageService, ToastService } from 'src/app/core/services';\nimport { LoaderService } from 'src/app/core/services/loader.service';\nimport { FavoriteService } from 'src/app/service/favourite/favourite.service';\nimport { ShopService } from 'src/app/service/shop/shop.service';\n\n@Component({\n  selector: 'app-favorite',\n  templateUrl: './favorite.page.html',\n  styleUrls: ['./favorite.page.scss'],\n})\nexport class FavoritePage implements OnInit {\n\n  @ViewChild(IonInfiniteScroll, { static: false })\n  infiniteScroll: IonInfiniteScroll;\n  disabledScroll = false;\n  page: number = 1;\n  pageSize: number = 10;\n  search: string = '';\n  businessTypeId: string = '';\n  categoryId: string = '';\n  subCategoryId: string = '';\n  collection: number = 0;\n  shopFavorites: any = [];\n  loaded: boolean = false;\n  shopDetails: any;\n  user: any;\n  isFavorite: any = {};\n\n  constructor(\n    private router: Router,\n    private spinner: LoaderService,\n    public translate: TranslateService,\n    public modelController: ModalController,\n    private shopService: ShopService,\n    private favoriteService: FavoriteService,\n    private activatedRoute: ActivatedRoute,\n    private toaster: ToastService,\n    private localStorage: StorageService,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.getFavoriteByCustomerId(false)\n  }\n\n\n  getFavoriteByCustomerId(isFirstLoad: boolean, event?: any) {\n    this.user = this.localStorage.get('OBCustomer');\n    this.spinner.showLoader();\n    let obj = {\n      search: this.search,\n    };\n    this.loaded = false;\n    this.favoriteService.getFavoriteByCustomerId(this.user._id, obj).subscribe((success: any) => {\n      this.shopFavorites = success.rows;\n      this.spinner.hideLoader();\n      this.loaded = true;\n    });\n  }\n\n\n  navigateTo(path, _id) {\n    console.log(_id);\n    \n    this.router.navigate([path], { queryParams: { _id } });\n  }\n  getUrl(url) {\n    let path = `url('${url}')`;\n    return path;\n  }\n  onSearch() {\n    this.page = 1;\n    this.shopFavorites = [];\n    this.getFavoriteByCustomerId(false);\n  }\n\n  doRefresh(event) {\n    this.page = 1;\n    this.shopFavorites = [];\n    this.getFavoriteByCustomerId(true, event);\n    event.target.complete();\n  }\n\n  async addToFavorite(item) {\n    let payload = {\n      action: 'remove',\n      shopId: item.shopId._id,\n    };\n    this.shopService.createOrRemoveFavorite(payload).subscribe(async (success) => {\n      this.getFavoriteByCustomerId(false);\n      this.toaster.successToast(success.message);\n    });\n  }\n\n  doInfinite(event) {\n    this.page++;\n    this.getFavoriteByCustomerId(false, '');\n    event.target.disabled = true;\n    this.infiniteScroll.disabled = true;\n    event.target.complete();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { catchError, map } from 'rxjs/operators';\nimport { ApiService } from 'src/app/core/services';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FavoriteService {\n  routes: any = {\n  \n    getFavoriteByCustomerId: (_id) =>`customer/getFavoriteByCustomerId/${_id}`,\n  };\n  constructor(private http: ApiService) { }\n\n  getFavoriteByCustomerId(_id,payload) {\n    return this.http.get(this.routes.getFavoriteByCustomerId(_id),payload);\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from 'src/app/core/services';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ShopService {\n  routes: any = {\n    getAllPath: `customer/getAllShop`,\n    addFavorites: `favorite/create`,\n    getByIdPath: (_id) => `customer/getByIdShop/${_id}`,\n    getByUPIPath: `customer/getByIdShopUPI`,\n    getByCategoryIdWithShop: (_id) => `customer/getShopByCategoryId/${_id}`,\n\n    getCatalogueBySubCategoryId: (_id) =>\n      `customer/getCatalogueBySubCategoryId/${_id}`,\n  };\n  constructor(private http: ApiService) {}\n\n  getAllShop(params) {\n    return this.http.get(this.routes.getAllPath, params);\n  }\n\n  getByIdShop(_id) {\n    return this.http.get(this.routes.getByIdPath(_id));\n  }\n  getByIdShopUPI(params) {\n    return this.http.get(this.routes.getByUPIPath, params);\n  }\n  getByCategoryIdWithShop(_id) {\n    return this.http.get(this.routes.getByCategoryIdWithShop(_id));\n  }\n\n  getCatalogueBySubCategoryId(_id) {\n    return this.http.get(this.routes.getCatalogueBySubCategoryId(_id));\n  }\n  createOrRemoveFavorite(payload: object) {\n    return this.http.post(this.routes.addFavorites, payload);\n  }\n}\n"],"names":["Component","ViewChild","ActivatedRoute","Router","IonInfiniteScroll","ModalController","TranslateService","StorageService","ToastService","LoaderService","FavoriteService","ShopService","FavoritePage","constructor","router","spinner","translate","modelController","shopService","favoriteService","activatedRoute","toaster","localStorage","ngOnInit","ionViewWillEnter","getFavoriteByCustomerId","isFirstLoad","event","user","get","showLoader","obj","search","loaded","_id","subscribe","success","shopFavorites","rows","hideLoader","navigateTo","path","console","log","navigate","queryParams","getUrl","url","onSearch","page","doRefresh","target","complete","addToFavorite","item","payload","action","shopId","createOrRemoveFavorite","successToast","message","doInfinite","disabled","infiniteScroll","args","static","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
{"version":3,"file":"src_app_default-layout_catalogue_catalogue_module_ts.js","mappings":"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","sources":["./src/app/default-layout/catalogue/catalogue-routing.module.ts","./src/app/default-layout/catalogue/catalogue.module.ts","./src/app/default-layout/catalogue/catalogue.page.ts","./src/app/service/shop/shop.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CataloguePage } from './catalogue.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CataloguePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CataloguePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CataloguePageRoutingModule } from './catalogue-routing.module';\n\nimport { CataloguePage } from './catalogue.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CataloguePageRoutingModule,SharedModule\n  ],\n  declarations: [CataloguePage]\n})\nexport class CataloguePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\nimport { ShopService } from 'src/app/service/shop/shop.service';\nimport { LoaderService } from 'src/app/core/services/loader.service';\nimport { StorageService, ToastService } from 'src/app/core/services';\nimport { Socket } from 'ngx-socket-io';\nimport { ChatService } from 'src/app/service/chat/chat.service';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-catalogue',\n  templateUrl: './catalogue.page.html',\n  styleUrls: ['./catalogue.page.scss'],\n})\nexport class CataloguePage implements OnInit {\n  loaded: boolean = false;\n  user: any;\n  shopId: any;\n  page: number = 1;\n  pageSize: number = 10;\n  search = '';\n  shopDetails: any;\n  catalogueArr: any = [];\n  selectAll: boolean;\n  subCategoryArr: any = [];\n\n\n  buttonSlide = {\n    slidesPerView: 4,\n    slideShadows: true,\n    initialSlide: 0,\n    speed: 400,\n    loop: true,\n    autoplay: {\n      delay: 5000,\n    },\n    spaceBetween: 3,\n  };\n\n  constructor(\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private toaster: ToastService,\n    private shopService: ShopService,\n    private localStorage: StorageService,\n    private spinner: LoaderService,\n    private socket: Socket,\n    private chatService: ChatService,\n    public translate: TranslateService\n\n  ) { }\n\n  ngOnInit() { }\n\n  ionViewWillEnter() {\n    this.user = this.localStorage.get('OBCustomer');\n    this.activatedRoute.queryParams.subscribe((params: any) => {\n      this.getShopById(params._id);\n    });\n  }\n\n\n  getCatalogueBySubCategoryId(_id, index) {\n    this.spinner.showLoader();\n    this.loaded = false;\n    this.shopService\n      .getCatalogueBySubCategoryId(_id)\n      .subscribe((success: any) => {\n        this.catalogueArr = success.payload.rows.map((x) => {\n          x.isChecked = false;\n          return x;\n        });\n        // ----------------------------------- //\n        this.subCategoryArr.forEach((x) => {\n          if (x.id === _id) {\n            x.isActive = true;\n          } else {\n            x.isActive = false;\n          }\n        });\n        this.spinner.hideLoader();\n        this.loaded = true;\n      });\n  }\n\n  getShopById(_id) {\n    this.shopService.getByIdShop(_id).subscribe((success: any) => {\n      this.subCategoryArr = success.data.map((y, i) => {\n        y.isActive = false;\n        if (i == 0) {\n          y.isActive = true;\n          this.getCatalogueBySubCategoryId(y._id, null);\n        }\n        return y;\n      });\n    });\n  }\n\n  navigateTo() {\n    let msg = '';\n    let arr = this.catalogueArr.filter((x) => x.isChecked == true);\n    if (arr.length < 1) {\n      this.toaster.errorToast('Plz select at least one product');\n      return;\n    }\n\n    let amount = 0;\n    let description = '';\n    // msg += `Dear ${arr[0].shopId.shopName},\\n ${arr[0].shopId.fullName},\\n would like to buy `;\n    msg += `Dear merchant,\\n would like to buy \\n`;\n    for (let i = 0; i < arr.length; i++) {\n      const catTitle = arr[i].title;\n      // const catPrice = arr[i].price;\n      msg += `${catTitle}`;\n      if (i != arr.length - 1) {\n        msg += ` , \\n `;\n      }\n      description += `${catTitle}`;\n      if (i != arr.length - 1) {\n        description += `,`;\n      }\n      // amount += catPrice;\n    }\n\n    let message = {\n      shopId: arr[0].shopId._id,\n      message: msg,\n      description: description,\n      // amount: amount,\n    };\n    this.chatService.create(message).subscribe((success) => {\n      this.spinner.hideLoader();\n      // join\n      this.socket.emit('join', { room: success.orderId, user: this.user._id });\n      this.router.navigate(['/chat-view'], {\n        queryParams: {\n          shopId: arr[0].shopId._id,\n          shopName: arr[0].shopId.shopName,\n          roomName: success.orderId, //join\n        },\n      });\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from 'src/app/core/services';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ShopService {\n  routes: any = {\n    getAllPath: `customer/getAllShop`,\n    addFavorites: `favorite/create`,\n    getByIdPath: (_id) => `customer/getByIdShop/${_id}`,\n    getByUPIPath: `customer/getByIdShopUPI`,\n    getByCategoryIdWithShop: (_id) => `customer/getShopByCategoryId/${_id}`,\n\n    getCatalogueBySubCategoryId: (_id) =>\n      `customer/getCatalogueBySubCategoryId/${_id}`,\n  };\n  constructor(private http: ApiService) {}\n\n  getAllShop(params) {\n    return this.http.get(this.routes.getAllPath, params);\n  }\n\n  getByIdShop(_id) {\n    return this.http.get(this.routes.getByIdPath(_id));\n  }\n  getByIdShopUPI(params) {\n    return this.http.get(this.routes.getByUPIPath, params);\n  }\n  getByCategoryIdWithShop(_id) {\n    return this.http.get(this.routes.getByCategoryIdWithShop(_id));\n  }\n\n  getCatalogueBySubCategoryId(_id) {\n    return this.http.get(this.routes.getCatalogueBySubCategoryId(_id));\n  }\n  createOrRemoveFavorite(payload: object) {\n    return this.http.post(this.routes.addFavorites, payload);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
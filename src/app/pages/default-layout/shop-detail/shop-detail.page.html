<ion-item lines="none" class="ion-no-padding bg-transparent">
  <ion-back-button color="primary" defaultHref="app/tabs/landing-page"></ion-back-button>
</ion-item>

<ion-fab horizontal="end" slot="fixed">
  <ion-fab-button
    *ngIf="shopUser?.shopDetails && shopUser?.shopDetails.shopFavorite && !shopUser?.shopDetails.shopFavorite.length">
    <ion-icon name="heart-outline" color="primary" (click)="addToFavorite(shopDetails)"></ion-icon>
  </ion-fab-button>
</ion-fab>

<ion-fab horizontal="end" slot="fixed">
  <ion-fab-button
    *ngIf="shopUser?.shopDetails && shopUser?.shopDetails.shopFavorite && shopUser?.shopDetails.shopFavorite.length">
    <ion-icon name="heart" color="primary" (click)="addToFavorite(shopDetails)"></ion-icon>
  </ion-fab-button>
</ion-fab>

<ion-content style="padding: 0" class="shadow-none ion-no-padding">
  <img [src]="shopUser?.shopDetails?.bannerImages" class="header-image" />
  <div id="content" class="main-content ion-padding">
    <ion-card>
      <ion-card-content>
        <ion-item>
          <ion-col size="5">
            <ion-avatar class="ion-margin-end logo-image">
              <img alt="logo-image" *ngIf="shopUser?.profilePicture" [src]="shopUser?.profilePicture" />
            </ion-avatar>
          </ion-col>
          <ion-col size="7" class="ion-text-capitalize ion-text-wrap">
            <ion-label class="ion-text-wrap"><b>{{shopUser?.shopDetails?.shopName}}</b></ion-label>
            <p class="font-larger">
              {{shopUser?.shopDetails?.firstName}} {{shopUser?.shopDetails?.lastName}}
            </p>
            <ion-text class="ion-text-wrap">
              <h4>
                {{shopUser?.address?.line1}}{{shopUser?.address?.line2}}
                {{shopUser?.address?.city}}, {{shopUser?.address?.state}}
                - {{shopUser?.address?.pinCode}}
              </h4>
            </ion-text>
            <ion-note class="ion-padding-top ion-text-wrap">
              {{shopUser?.shopDetails?.schedule?.day}}:{{shopUser?.shopDetails?.schedule?.startTime}} to
              {{shopUser?.shopDetails?.schedule?.endTime }}
            </ion-note>

          </ion-col>
        </ion-item>

        <ion-grid>
          <ion-row>
            <ion-col size="12">
              <ion-card class="card-status">
                <ion-card-content>
                  <ion-segment color="primary" [(ngModel)]="type" scrollable>
                    <ion-segment-button value="about" checked>
                      <ion-label class="ion-text-wrap">{{ 'about' | translate}}</ion-label>
                    </ion-segment-button>
                    <ion-segment-button value="gallery">
                      <ion-label class="ion-text-wrap">{{ 'gallery' | translate}}</ion-label>
                    </ion-segment-button>
                    <ion-segment-button value="reviews">
                      <ion-label class="ion-text-wrap">{{ 'reviews' | translate}}</ion-label>
                    </ion-segment-button>
                  </ion-segment>

                  <div [ngSwitch]="type">
                    <ion-list *ngSwitchCase="'about'">
                      <ion-item lines="none">
                        <ion-row>
                          <ion-col>
                            <p class="ion-text-wrap">
                              {{shopUser?.shopDetails?.aboutUs }}
                            </p>
                          </ion-col>
                        </ion-row>
                      </ion-item>
                      <ion-item lines="none" class="social-links">
                        <ion-note class="heading" color="primary">Social Links</ion-note>
                      </ion-item>
                      <ion-row class="ion-no-margin">
                        <ion-col size="4" class="ion-no-padding ion-text-center">
                          <ion-button fill="clear">
                            <a *ngIf="faceBook" href="{{shopUser?.shopDetails?.links?.facebook}}">
                              <ion-icon name="logo-facebook" class="font fb"></ion-icon>
                            </a>
                            <a *ngIf="!faceBook">
                              <ion-icon name="logo-facebook" class="font fb"></ion-icon>
                            </a>
                          </ion-button>
                        </ion-col>
                        <ion-col size="4" class="ion-no-padding ion-text-center">
                          <ion-button fill="clear">
                            <a *ngIf="instagram" href="{{shopUser?.shopDetails?.links?.instagram}}">
                              <img src="../../../assets/images/instaicon.png" alt="" class="insta" />
                            </a>
                            <a *ngIf="!instagram">
                              <img src="../../../assets/images/instaicon.png" alt="" class="insta" />
                            </a>
                          </ion-button>
                        </ion-col>
                        <ion-col size="4" class="ion-no-padding ion-text-center">
                          <ion-button fill="clear">
                            <a *ngIf="youTube" href="{{shopUser?.shopDetails?.links?.youtube}}">
                              <ion-icon name="logo-youtube" class="font yt"></ion-icon>
                            </a>
                            <a *ngIf="!youTube">
                              <ion-icon name="logo-youtube" class="font yt"></ion-icon>
                            </a>
                          </ion-button>
                        </ion-col>
                      </ion-row>
                      <ion-item lines="none" class="social-links">
                        <ion-note class="heading" color="primary">Web Links</ion-note>
                      </ion-item>
                      <ion-row class="ion-no-margin">
                        <ion-col class="ion-no-padding ion-text-center">
                          <ion-item lines="none">
                            <a href="{{shopUser?.shopDetails?.links?.website}}">
                              <ion-icon name="globe-sharp" class="font fb"></ion-icon>
                            </a>
                            <a class="web" href=" {{shopUser?.shopDetails?.links?.website}}">
                              {{shopUser?.shopDetails?.links?.website}}</a>
                          </ion-item>
                        </ion-col>
                      </ion-row>
                      <ion-item lines="none">
                        <!-- <p>Contact us</p> -->
                        <ion-note class="heading" color="primary">Contact us</ion-note>
                      </ion-item>
                      <ion-row class="ion-no-padding">
                        <ion-col size="3"></ion-col>
                        <ion-col size="3" class="ion-text-center">
                          <div>
                            <ion-card class="bg-xcard">
                              <ion-icon name="chatbubble-ellipses-outline" size="large" class="call" color="primary"
                                (click)="goToChat()"></ion-icon>
                            </ion-card>
                            <ion-note class="heading ion-texxt-center">Order</ion-note>
                          </div>
                        </ion-col>
                        <ion-col size="3" class="ion-text-center">
                          <ion-card class="bg-xcard ion-text-center">
                            <a href="tel:+91{{shopDetails?.mobile}}">
                              <ion-icon name="call" size="large" class="call" color="primary"></ion-icon>
                            </a>
                          </ion-card>
                          <ion-note class=" heading ion-text-center">Call</ion-note>
                        </ion-col>
                        <ion-col size="3"></ion-col>
                      </ion-row>
                    </ion-list>
                    <!-- gallery -->
                    <ion-list *ngSwitchCase="'gallery'">
                      <ion-card>
                        <ion-grid *ngIf="shopUser?.shopDetails?.galleryImages?.length > 0;else noDataFound">
                          <!-- <ion-grid> -->
                          <ion-row>
                            <ion-col *ngFor="let galleryImg of shopUser?.shopDetails?.galleryImages" size="6"
                              (click)="navigateToViewGalleryImages(shopUser?.shopDetails?.galleryImages)">
                              <img class="gallery ion-no-padding" src="{{galleryImg}}" />
                            </ion-col>
                          </ion-row>
                          <!-- </ion-grid> -->
                        </ion-grid>
                        <ng-template #noDataFound>
                          <div class="noData">
                            <ion-label class="ion-text-center">No Images Found</ion-label>
                          </div>
                        </ng-template>
                      </ion-card>
                    </ion-list>
                    <!-- reviews -->
                    <ion-list *ngSwitchCase="'reviews'">
                      <ion-label>Review goes here</ion-label>
                    </ion-list>
                  </div>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>

      </ion-card-content>
    </ion-card>
  </div>
</ion-content>


<ion-footer class="ion-no-border">

  <ion-item
    *ngIf="shopUser?.shopDetails?.businessTypeName === businessType.PRODUCT || shopUser?.shopDetails?.businessTypeName === businessType.RESALE">
    <ion-col class=" ion-text-center">
      <ion-button shape="round" class="btn" expand="block" (click)="navigateTo('/catalogue')">Catalogue</ion-button>
    </ion-col>
  </ion-item>

  <ion-item *ngIf="shopUser?.shopDetails?.businessTypeName === businessType.SERVICES">
    <ion-col class=" ion-text-center">
      <ion-button shape="round" class="btn" expand="block" (click)="modalFilter()">{{ 'Book Appointment' |
        translate}}</ion-button>
    </ion-col>
  </ion-item>

  <ion-item *ngIf="shopUser?.shopDetails?.businessTypeName === businessType.PRODUCT_AND_SERVICES">
    <ion-col size="6">
      <ion-button shape="round" class="btn" expand="block" (click)="navigateTo('/catalogue')">Catalogue</ion-button>
    </ion-col>
    <ion-col size="6">
      <ion-button shape="round" class="btn" expand="block" (click)="modalFilter()">Book Now</ion-button>
    </ion-col>
  </ion-item>

</ion-footer>